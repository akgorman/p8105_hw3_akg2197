---
title: "p8105_hw3_akg2197"
author: "Annie Gorman"
date: "2024-10-10"
output: html_document
---

## Loading libraries 

```{r setup}
library(tidyverse)
library(viridis)
library(patchwork)
```

## Problem 1 
```{r}
library(p8105.datasets)
data("ny_noaa")
```

## Problem 2 
Loading the demographic data:
```{r}
demographic_data = read_csv("nhanes_covar.csv") |>
  janitor::clean_names() |>
  drop_na() 

accelerometer_data = read_csv("nhanes_accel.csv") |>
  janitor::clean_names() 

merged_nhanes = accelerometer_data |>
  inner_join(demographic_data, by="seqn") |>
  relocate(seqn, sex, age, bmi, education) |>
  filter(age>20)|>
  mutate (
    sex = case_when(sex==1~"male", sex==2 ~ "female"), 
    education = case_when(
      education==1 ~ "less than high school",
      education==2 ~ "high school equivalent",
      education==3 ~ "more than high school")) 
```
We can use this code chunk to examine our datasets:
```{r}
demographic_data
head(demographic_data)

accelerometer_data
head(accelerometer_data)
```