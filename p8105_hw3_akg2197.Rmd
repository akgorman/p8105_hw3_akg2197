---
title: "p8105_hw3_akg2197"
author: "Annie Gorman"
date: "2024-10-10"
output: html_document
---

## Loading libraries 

```{r setup, include=FALSE}
library(tidyverse)
library(ggridges)
library(patchwork)

library(p8105.datasets)

knitr::opts_chunk$set(
	echo = TRUE,
	warning = FALSE,
	fig.width = 8, 
  fig.height = 6,
  out.width = "90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))

options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = "viridis"
)

scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```


## Problem 1 
```{r}
library(p8105.datasets)
data("ny_noaa")
```

## Problem 2 
Loading the demographic data:
```{r}
demographic_data = read_csv("nhanes_covar.csv") |>
  janitor::clean_names() |>
  drop_na() 

accelerometer_data = read_csv("nhanes_accel.csv") |>
  janitor::clean_names() 

merged_nhanes = accelerometer_data |>
  inner_join(demographic_data, by="SEQN") |>
  relocate(seqn, sex, age, bmi, education) |>
  filter(age>20)|>
  mutate (
    sex = case_when(sex==1~"male", sex==2 ~ "female"), 
    education = case_when(
      education==1 ~ "less than high school",
      education==2 ~ "high school equivalent",
      education==3 ~ "more than high school")) 
```
We can use this code chunk to examine our datasets:
```{r}
demographic_data
head(demographic_data)

accelerometer_data
head(accelerometer_data)
```